
---
kind: KeepAlived
apiVersion: vpn-gw.kubecombo.com/v1
metadata:
  name: vpc1-subnet1-keepalived-01
  namespace: ns1
spec:
  image: kubecombo.com/kube-combo/keepalived:v0.0.1 
  subnet: vpc1-subnet1
  vipV4: 10.1.0.2 
  vipV6: 

# vip is the ip address of vip
# todo:// support duastack 

---
kind: VpnGw
apiVersion: vpn-gw.kubecombo.com/v1
metadata:
  name: ovpn
  namespace: ns1
spec:
  cpu: "1"
  memory: "1024M"
  qosBandwidth: "20"
  ip: 10.1.0.11
  replicas: 2
  selector:
  tolerations:
  affinity:
  enableSslVpn: false
  sslSecret: "" 
  dhSecret: ""
  ovpnCipher: ""
  ovpnProto: ""
  ovpnPort: ""
  ovpnSubnetCidr: ""
  sslVpnImage: ""
  enableIpsecVpn: false
  ipsecSecret: ""
  ipsecConnections: ""
  ipsecVpnImage: ""
  ipsecRemoteAddrs: ""
  ipsecRemoteTs: ""
  publicIp: "" 
  publicSubnet: ""
  keepalived: "vpc1-subnet1-keepalived-01"

# 该模版仅用于验证 keepalived crd 被 vpn gw 引用，可以提供一个高可用的 vip
#
